<%= form_with(model: @recipe, local: true) do |rForm| %>
  <div class="row">
    <div class="col-6 col-md-4">
      <%= rForm.label :name %>
      <%= rForm.text_field :name %>
      <br>
  
      <%= rForm.label :origin %>
      <%= rForm.text_field :origin %>
      <br>

      <%= rForm.label :author %>
      <%= rForm.text_field :author%>
    </div>
    <div class="col-6 col-md-4">
      (Times in minutes)
      <br>

      <%= rForm.label :cook_time %>
      <%= rForm.number_field :cook_time %>
      <br>

      <%= rForm.label :prep_time %>
      <%= rForm.number_field :prep_time %>
      <br>
    </div>

    <div class="col-md-4">
      Difficulty from 1-10, based on technique difficulty and how many things
      are happening at once
      <%= rForm.label :difficulty %>
      <%= rForm.number_field :difficulty %>
      <br>

      Can leave this blank, not using the images on recipe cards for now
      <br>
      <%= rForm.label :card_image_path %>
      <%= rForm.text_field :card_image_path %>
    </div>
  </div>


  <hr>
  Recipe Tags:<br>
  <% RecipeType.all.each do |rt| %>
    <% if @tags.include?(rt[:name]) %>
      <%= check_box_tag("recipe[rTypes][]selected",
                               value=rt[:name],
                               checked=true) %>
    <% else %>
      <%= check_box_tag("recipe[rTypes][]selected",
                               value=rt[:name],
                               checked=false) %>
    <% end %>
    <%= rForm.label(rt[:name]) %>
  <% end %>
  <br><hr>
  Equipment:<br>
  <% Equipment.all.each do |e| %>
    <% if @eNames.include?(e[:name]) %>
      <%= check_box_tag("recipe[equipment][]selected",
                        value=e[:name], checked=true) %>
    <% else %>
      <%= check_box_tag("recipe[equipment][]selected",
                        value=e[:name], checked=false) %>
    <% end %>
    <%= rForm.label(e[:name]) %>
  <% end %>
  <br>
  <hr>
  Ingredients:<br>
  <table>
    <% @allIngredients.each do |i| %>
    <tr>

      <% if @iNames.include?(i[:name]) %>
        <td><%= number_field_tag("recipe[ingredients]#{i[:name]}", @iQuants[i[:name]][0]) %></td>
      <% else %>
        <td><%= number_field_tag("recipe[ingredients]#{i[:name]}") %></td>
      <% end %>
      <td><%= {true => "mL", false => "g"}[i.is_liquid] %></td>
      <td><%= rForm.label(i[:name]) %></td>
    </tr>
  <% end %>
  </table>
  <hr>
  New Ingredients:<br>
  <table>
  <% @allIngredients.each do |i| %>

  <% end %>

  Steps:
  <br>
  <% @recipe.actions.each_with_index do |a,n| %>
    <%= rForm.label("Title: ") %>
    <%= rForm.text_field("[actions][][title]", value: a[1][0]) %>
    <%= rForm.label("Step: #{n+1}") %>
    <br>
    <%= rForm.label("Body: ") %>
    <%= rForm.text_area("[actions][][body]", value: a[1][1], size: "80x5") %>
    <br><br>
  <% end %>

  <%= rForm.submit "Submit changes" %>
<% end %>
