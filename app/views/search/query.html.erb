<% content_for :title, "Search - " %>
<div class ="row mx-auto">
  
    <div class="col-xs-2">
  <%= form_with(url: "/search", method: "get", local: true, id: "searchform") do |fForm| %>
      <%= fForm.text_field :query, placeholder: " Insert cravings here", value: @q,
                                   class: "mr-1" %>
    </div>

    <div class="col-xs-2"> 
      <button type="button" class="btn btn-primary w-100" data-toggle="modal" data-target="#filterModal">Filters</button>
    </div>
</div>

    <%= render 'filters' , fForm: fForm %>

<div class="row">
  <div class="col-2">
    <%= fForm.submit "Search" %>
  </div>
</div>
  <% end %>


<div class="row">
  <div class="col-12">
    
    <div>Showing <%= @results.count %> of <%= @total %> recipes</div>
    <% unless @q.nil? || @q == "" %>
      <div>Search: <%= @q %></div>
    <% end %>
    <div><%= @filter %></div>
  </div>
</div>
<hr>
<div class="row col-12 p-0 mx-auto">
  <% @results.each do |r| %>
    <%= render 'shared/recipe_link', rec: r %>
  <% end %>
</div>
