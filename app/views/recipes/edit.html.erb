<%= form_with(model: @recipe, local: true) do |rForm| %>
  <%= rForm.label :name %>
  <%= rForm.text_field :name %>

  <%= rForm.label :origin %>
  <%= rForm.text_field :origin %>

  <%= rForm.label :author %>
  <%= rForm.text_field :author%>
  <hr>
  Equipment:<br>
  <% Equipment.all.each do |e| %>
    <% if @eNames.include?(e[:name]) %>
      <%= rForm.check_box("equipment[]selected", {checked: true}, e[:name], "0") %>
    <% else %>
      <%= rForm.check_box("equipment[]selected", {}, e[:name], "0") %>
    <% end %>
    <%= rForm.label(e[:name]) %>
  <% end %>
  <br>
  <hr>
  Ingredients:<br>
  <% Ingredient.all.each do |i| %>
    <% if @iNames.include?(i[:name]) %>
      <%= rForm.check_box("ingredients[]selected", {checked: true}, i[:name], "0") %>
    <% else %>
      <%= rForm.check_box("ingredients[]selected", {}, i[:name], "0") %>
    <% end %>
    <%= rForm.label(i[:name]) %>
  <% end %>
  <hr>

  Steps:
  <br>
  <% @recipe.actions.keys.sort.each do |k| %>
    <%= rForm.label("Title: ") %>
    <%= rForm.text_field("[actions][][title]", value: @recipe.actions[k][:title]) %>
    <%= rForm.label("Order: ") %>
    <%= rForm.number_field("[actions][][order]", value: k) %>
    <br>
    <%= rForm.label("Body: ") %>
    <%= rForm.text_area("[actions][][body]", value: @recipe.actions[k][:body], size: "80x5") %>
    <br><br>
  <% end %>

  <%= rForm.submit "Submit changes" %>
<% end %>
